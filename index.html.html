<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Flores Amarillas â€” versiÃ³n compatible</title>
<meta name="theme-color" content="#0b1530">
<style>
  :root{
    --bg:#0b1530; --star:#dfe8ff; --petal:#ffd84d; --petal-dark:#ffca1a;
    --center:#ff7a00; --stem:#2ec27e; --leaf:#79e3a9; --glow: rgba(255,216,77,.35); --txt:#ffe87a; --white:#ffffff;
  }
  html,body{margin:0;height:100%;background:radial-gradient(1200px 800px at 50% 120%, #11204f 0%, var(--bg) 45%);color:var(--white);font-family:system-ui, -apple-system, "Segoe UI", Roboto, Arial;overflow:hidden}
  .sky{position:fixed;inset:0;pointer-events:none;z-index:0}
  .star{position:absolute;width:2px;height:2px;background:var(--star);border-radius:50%;opacity:.7;box-shadow:0 0 6px var(--star)}
  @keyframes twinkle{0%,100%{opacity:.2}50%{opacity:1}}
  .shoot{position:absolute;width:140px;height:2px;background:linear-gradient(90deg, var(--star), rgba(223,232,255,0));transform:rotate(-25deg);filter:drop-shadow(0 0 6px var(--star));opacity:0}
  @keyframes shoot{0%{opacity:0;transform:translate3d(0,0,0) rotate(-25deg)}5%{opacity:1}100%{opacity:0;transform:translate3d(-60vw,40vh,0) rotate(-25deg)}}
  .wrap{position:relative;z-index:2;display:grid;place-items:center;height:100%}
  .card{width:min(92vw,460px);height:min(92vh,840px);background:radial-gradient(70% 100% at 50% 100%, rgba(255,216,77,.08), transparent 60%), rgba(5,12,30,.55);border:1px solid rgba(255,255,255,.08);border-radius:28px;box-shadow:0 10px 40px rgba(0,0,0,.55), inset 0 0 60px rgba(255,255,255,.05);overflow:hidden;position:relative;backdrop-filter: blur(2px)}
  .inner{position:absolute;inset:0;display:grid;grid-template-rows:1fr auto 1.2fr;padding:22px 20px 28px}
  .msg{align-self:start;text-align:left;line-height:1.3;font-weight:700;letter-spacing:.2px;filter:drop-shadow(0 0 6px rgba(255,255,255,.18))}
  .msg .line{color:var(--txt);font-size:clamp(18px,5vw,26px);opacity:0;transform:translateY(6px) scale(.98);transition:all .9s cubic-bezier(.2,.8,.2,1)}
  .msg .line.show{opacity:1;transform:translateY(0) scale(1)}
  .tap{place-self:center;margin-top:6px;font-size:13px;opacity:.8;text-align:center}
  .ground{align-self:end;display:grid;place-items:center}
  .field{position:relative;width:100%;height:54vh;max-height:420px}
  .bouquet{position:absolute;bottom:0;left:50%;transform:translateX(-50%);filter:drop-shadow(0 0 16px var(--glow))}
  .petal-fall{position:absolute;width:12px;height:12px;border-radius:50%;background:radial-gradient(circle at 28% 28%, #fff8c9 0 25%, var(--petal) 26% 90%, var(--petal-dark) 91%);box-shadow:0 0 10px var(--glow);opacity:0;transform:translateY(0) rotate(0deg);animation:fall 8s linear infinite}
  @keyframes fall{0%{opacity:0;transform:translateY(-10vh) rotate(0deg)}5%{opacity:.9}100%{opacity:0;transform:translateY(75vh) rotate(360deg)}}
</style>
</head>
<body>
  <div class="sky" id="sky"></div>
  <div class="wrap">
    <div class="card" id="card">
      <div class="inner">
        <div class="msg" id="msg">
          <div class="line">Estas flores son para ti,</div>
          <div class="line">porque me encantas ðŸ’›</div>
          <div class="line">OjalÃ¡ te saquen una sonrisa.</div>
        </div>
        <div class="tap">Toca cualquier parte para repetir la animaciÃ³n</div>
        <div class="ground">
          <div class="field" id="field">
            <svg class="bouquet" width="330" height="360" viewBox="0 0 330 360" aria-label="Ramo de flores amarillas">
              <g transform="translate(165,220)">
                <g fill="none" stroke="var(--stem)" stroke-width="10" stroke-linecap="round">
                  <path d="M0,0 C-10,40 -12,120 -20,140" />
                  <path d="M0,0 C10,40 12,120 20,140" />
                  <path d="M0,0 C0,40 0,140 0,160" />
                </g>
              </g>
              <g fill="var(--leaf)" transform="translate(165,240)">
                <path d="M-56 10 q36 -28 74 0 q-38 18 -74 0z"/>
                <path d="M-18 32 q28 -22 58 -2 q-30 20 -58 2z"/>
                <path d="M-80 38 q42 -26 78 2 q-46 24 -78 -2z"/>
                <path d="M-10 62 q30 -20 60 0 q-30 20 -60 0z"/>
              </g>
              <g id="flowers" transform="translate(165,160)">
                <g class="f" transform="translate(-80,0) scale(1)"></g>
                <g class="f" transform="translate(0,-50) scale(1.1)"></g>
                <g class="f" transform="translate(80,10) scale(1)"></g>
                <g class="f" transform="translate(-10,40) scale(.95)"></g>
                <g class="f" transform="translate(55,60) scale(.9)"></g>
              </g>
              <defs>
                <g id="flower">
                  <g id="ring">
                    <g fill="url(#petalGrad)" stroke="rgba(0,0,0,.08)" stroke-width="1">
                      <path d="M0,-66 q14,-6 28,0 q10,34 -14,56 q-24,-22 -14,-56z" transform="rotate(0)"/>
                      <path d="M0,-66 q14,-6 28,0 q10,34 -14,56 q-24,-22 -14,-56z" transform="rotate(36)"/>
                      <path d="M0,-66 q14,-6 28,0 q10,34 -14,56 q-24,-22 -14,-56z" transform="rotate(72)"/>
                      <path d="M0,-66 q14,-6 28,0 q10,34 -14,56 q-24,-22 -14,-56z" transform="rotate(108)"/>
                      <path d="M0,-66 q14,-6 28,0 q10,34 -14,56 q-24,-22 -14,-56z" transform="rotate(144)"/>
                      <path d="M0,-66 q14,-6 28,0 q10,34 -14,56 q-24,-22 -14,-56z" transform="rotate(180)"/>
                      <path d="M0,-66 q14,-6 28,0 q10,34 -14,56 q-24,-22 -14,-56z" transform="rotate(216)"/>
                      <path d="M0,-66 q14,-6 28,0 q10,34 -14,56 q-24,-22 -14,-56z" transform="rotate(252)"/>
                      <path d="M0,-66 q14,-6 28,0 q10,34 -14,56 q-24,-22 -14,-56z" transform="rotate(288)"/>
                      <path d="M0,-66 q14,-6 28,0 q10,34 -14,56 q-24,-22 -14,-56z" transform="rotate(324)"/>
                    </g>
                  </g>
                  <circle r="26" fill="var(--center)" stroke="#993f00" stroke-width="2"/>
                  <g fill="#5b2500">
                    <circle r="2" transform="rotate(0) translate(20)"/>
                    <circle r="2" transform="rotate(40) translate(20)"/>
                    <circle r="2" transform="rotate(80) translate(20)"/>
                    <circle r="2" transform="rotate(120) translate(20)"/>
                    <circle r="2" transform="rotate(160) translate(20)"/>
                    <circle r="2" transform="rotate(200) translate(20)"/>
                    <circle r="2" transform="rotate(240) translate(20)"/>
                    <circle r="2" transform="rotate(280) translate(20)"/>
                    <circle r="2" transform="rotate(320) translate(20)"/>
                  </g>
                  <circle r="10" fill="#ffb15c" opacity=".7"/>
                </g>
                <radialGradient id="petalGrad" cx="30%" cy="25%">
                  <stop offset="0%" stop-color="#fff8c9"/>
                  <stop offset="25%" stop-color="#fff0a3"/>
                  <stop offset="60%" stop-color="var(--petal)"/>
                  <stop offset="100%" stop-color="var(--petal-dark)"/>
                </radialGradient>
              </defs>
            </svg>
          </div>
        </div>
      </div>
    </div>
  </div>
<script>
  const sky = document.getElementById('sky');
  for (let i=0; i<140; i++){
    const s = document.createElement('div');
    s.className='star';
    const size = Math.random()*1.6+0.8;
    s.style.width=s.style.height=size+'px';
    s.style.left=(Math.random()*100)+'vw';
    s.style.top=(Math.random()*100)+'vh';
    s.style.animation=`twinkle ${2+Math.random()*6}s ease-in-out ${Math.random()*4}s infinite`;
    sky.appendChild(s);
  }
  function shoot(){
    const sh = document.createElement('div');
    sh.className='shoot';
    sh.style.left=(60+Math.random()*40)+'vw';
    sh.style.top=(5+Math.random()*25)+'vh';
    sh.style.animation=`shoot ${2.5+Math.random()*1.8}s linear 0s 1`;
    sky.appendChild(sh);
    setTimeout(()=> sh.remove(), 4500);
  }
  setInterval(()=> Math.random()<.45 && shoot(), 2200);

  const flowersGroup = document.getElementById('flowers');
  const fNodes = flowersGroup.querySelectorAll('.f');
  fNodes.forEach((g)=>{
    const use = document.createElementNS('http://www.w3.org/2000/svg','use');
    use.setAttributeNS('http://www.w3.org/1999/xlink','href','#flower');
    use.setAttribute('opacity','0');
    use.setAttribute('transform','scale(.5)');
    g.appendChild(use);
  });

  const field = document.getElementById('field');
  function petalBurst(){
    const p = document.createElement('div');
    p.className='petal-fall';
    const x = 20 + Math.random()*60;
    p.style.left = x + '%';
    p.style.animationDuration = (6 + Math.random()*5) + 's';
    p.style.animationDelay = (Math.random()*1.2) + 's';
    field.appendChild(p);
    setTimeout(()=> p.remove(), 12000);
  }
  setInterval(()=> Math.random() < .35 && petalBurst(), 1000);

  const lines = Array.from(document.querySelectorAll('.msg .line'));
  let step = 0;
  function showNextLine(){
    if(step >= lines.length) return;
    lines[step].classList.add('show');
    step++;
    setTimeout(showNextLine, 1600);
  }

  function bloom(){
    step = 0; lines.forEach(l=> l.classList.remove('show'));
    showNextLine();
    fNodes.forEach((g, i)=>{
      const el = g.querySelector('use');
      el.setAttribute('opacity','1');
      el.animate([
        { transform: 'scale(.5) rotate(-10deg)', filter:'drop-shadow(0 0 0 rgba(255,216,77,0))' },
        { transform: 'scale(1.12) rotate(4deg)',  filter:'drop-shadow(0 0 20px var(--glow))' },
        { transform: 'scale(1) rotate(0)',  filter:'drop-shadow(0 0 16px var(--glow))' }
      ], { duration: 1200, easing:'cubic-bezier(.2,.8,.2,1)', fill:'forwards', delay: 300 + i*280 });
      for(let k=0;k<2;k++) setTimeout(petalBurst, 300 + i*280 + k*120);
    });
  }

  // Start automatically for maximum compatibility
  window.addEventListener('load', bloom, {once:true});
  // And allow any tap/click on the card to replay
  const card = document.getElementById('card');
  ['click','touchstart'].forEach(evt => card.addEventListener(evt, ()=>{ bloom(); }, {passive:true}));
</script>
</body>
</html>
